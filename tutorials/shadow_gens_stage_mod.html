<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Game documentation" href="../game_documentation/index.html" /><link rel="prev" title="Tutorials" href="index.html" />
        <link rel="canonical" href="https://hedge-dev.github.io/HedgehogEngineBlenderIO/tutorials/shadow_gens_stage_mod.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Tutorial 1: Shadow Generations stage mod - HEIO 0.0.1 Manual</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/theme_overrides.css?v=b401e04f" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #265787;
  --color-brand-content: #265787;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">HEIO 0.0.1 Manual</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">HEIO 0.0.1 Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/about.html">About HEIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installing HEIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/contact.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sections</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../user_interface/index.html">User Interface</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User Interface</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_interface/settings.html">Scene Settings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user_interface/tools/index.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_interface/tools/importers.html">Importers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_interface/tools/exporters.html">Exporters</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user_interface/tools/viewport_toolbar/index.html">Viewport Toolbar</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Viewport Toolbar</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/tools/viewport_toolbar/general.html">General Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/tools/viewport_toolbar/sca_editor.html">SCA Parameter Mass-edit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/tools/viewport_toolbar/info.html">Info Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user_interface/object/index.html">Object Related</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Object Related</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user_interface/object/mesh/index.html">Mesh Properties</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Mesh Properties</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/export_settings.html">Export Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/groups.html">Mesh Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/render_layers.html">Mesh Render Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/collision_flags.html">Collision Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/collision_types.html">Collision Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/mesh/collision_primitives.html">Collision Primitives</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user_interface/object/material.html">Material Properties</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Material Properties</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/material_parameters.html">Material Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_interface/object/material_textures.html">Material Textures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_interface/object/lod_info.html">LoD Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_interface/object/sca_parameters.html">SCA Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/addon_config.html">Configuring the addon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/project_setup.html">Project setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/asset_importing.html">Asset importing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/material_editing.html">Material Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/object_trees.html">Object Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/collision_mesh_editing.html">Collision mesh editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/lod_models.html">LoD Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/asset_exporting.html">Asset exporting</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Tutorial 1: Shadow Generations stage mod</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../game_documentation/index.html">Game documentation</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Game documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../game_documentation/textures/index.html">Textures</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Textures</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/textures/textures_he1.html">Hedgehog engine 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/textures/textures_he2.html">Hedgehog engine 2</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../game_documentation/shaders/index.html">Shaders</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Shaders</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../game_documentation/shaders/common/index.html">Common</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/pbr.html">Physically Based Rendering (PBR)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/normal_mapping.html">Normal Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/weather.html">Weather</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/vertex_colors.html">Vertex colors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/mesh_layers.html">Mesh Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/deferred_rendering.html">Deferred rendering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/common/dithering.html">Dithering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/unleashed/index.html">Sonic Unleashed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/generations/index.html">Sonic Generations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/lost_world/index.html">Sonic Lost World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/forces/index.html">Sonic Forces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/origins/index.html">Sonic Origins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../game_documentation/shaders/frontiers/index.html">Sonic Frontiers</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/index.html">Shadow Generations</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Shadow Generations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/amoeba.html">Amoeba shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/blend.html">Blend shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/bubbles.html">Bubbles shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/chaos.html">Chaos shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/character_eye.html">Character Eye shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/character_falloff.html">Character Falloff shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/character_skin.html">Character skin shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/cloud_mist.html">Cloud &amp; Mist shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/common.html">Common shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/cyber.html">Cyber shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/decal.html">Decal shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/detail.html">Detail shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/direction_blend.html">Direction blend shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/dpower.html">DPower shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/earth.html">Earth shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/effadhoc.html">Effadhoc shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/emission.html">Emission shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/falloff_emission.html">Falloff emission shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/fur.html">Fur shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/glass.html">Glass shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/ignorelight.html">IgnoreLight shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/imposter.html">Imposter shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/indirect.html">Indirect shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/instanced.html">Instanced shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/iridescence.html">Iridescence shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/jewel.html">Jewel shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/kaleidoscope.html">Kaleidoscope shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/maria.html">Maria shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/mephiles.html">Mephiles shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/plants.html">Plant shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/ring.html">Ring shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/search_light.html">SearchLight shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/sky.html">Sky shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/sonic_aura.html">SonicAura shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/super_sonic_shape.html">SuperSonicShape shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/timeeater.html">Time eater shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/translucent.html">Translucent shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/trans_thin.html">TransThin shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/unlit.html">Unlit shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/vanish.html">Vanish shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/volcanic_ash.html">Volcanic Ash shader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/volumevat.html">Volume VAT shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/water.html">Water shaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../game_documentation/shaders/shadow_generations/whitespace.html">Whitespace shaders</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../game_documentation/shader_features.html">Shader Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game_documentation/sca_parameters.html">SCA Parameters</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../target_configuration/index.html">Target Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Target Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../target_configuration/target_info.html">Target Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target_configuration/shaders.html">Shaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target_configuration/material_templates.html">Material Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../target_configuration/sca_parameters.html">SCA Parameters</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="edit-this-page">
  <a class="muted-link" href="https://github.com/hedge-dev/HedgehogEngineBlenderIO/edit/dev/manual/source/tutorials/shadow_gens_stage_mod.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="tutorial-1-shadow-generations-stage-mod">
<h1>Tutorial 1: Shadow Generations stage mod<a class="headerlink" href="#tutorial-1-shadow-generations-stage-mod" title="Link to this heading">¶</a></h1>
<p>Welcome to this beginner tutorial for a Shadow Generations stage mod!
Here you will learn the basics of how to create a stage mod with HEIO!</p>
<p>In this example, we will modify Kingdom Valley Act 1 from Shadow Generations.</p>
<p>Let’s get started then, shall we?</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>This tutorial assumes you know the basics of how to work with blender!</p>
</div>
<section id="part-0-the-tools">
<h2>Part 0: The tools<a class="headerlink" href="#part-0-the-tools" title="Link to this heading">¶</a></h2>
<p>Before we begin, you should make sure you have all the tools needed:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../getting_started/installation.html"><span class="doc">Installing HEIO</span></a> for… well, HEIO</p></li>
<li><p><a class="reference external" href="https://hedgedocs.com/tools/hedgehog-engine/common/files/">HedgeArcPack</a> for unpacking and packing archive files</p></li>
<li><p><a class="reference external" href="https://github.com/thesupersonic16/HedgeModManager">HedgeModManager</a> for running the mod</p></li>
<li><p><a class="reference external" href="https://store.steampowered.com/app/2513280">Sonic X Shadow Generations</a> (should be obvious why)</p></li>
</ul>
</section>
<section id="part-1-preparing-the-files">
<h2>Part 1: Preparing the files<a class="headerlink" href="#part-1-preparing-the-files" title="Link to this heading">¶</a></h2>
<p>First, you will want to prepare the files needed for the mod to run in the first place.</p>
<section id="creating-the-mod">
<h3>Creating the mod<a class="headerlink" href="#creating-the-mod" title="Link to this heading">¶</a></h3>
<p>Before we touch any files, let’s first create the mod that will hold all the final files:</p>
<ol class="arabic simple">
<li><p>Open HedgeModManager</p></li>
<li><p>Select Shadow Generations</p></li>
<li><p>Click the “Add Mod” button</p></li>
<li><p>Select “Making one (for developers!)”</p></li>
<li><p>Enter your name in the “Author” field and change the title to “HEIO Tutorial” (or whatever you want it to be named)</p></li>
<li><p>Press “Ok”</p></li>
</ol>
<p>This should create and open a new directory for your mod, where we will put the files needed to get
everything working.</p>
</section>
<section id="which-files">
<h3>Which files?<a class="headerlink" href="#which-files" title="Link to this heading">¶</a></h3>
<p>Open the directory in which SXSG is installed. The easiest way to do this is by right
clicking the game in your steam launcher, going to “manage” and clicking “Browse local files”.</p>
<figure class="align-default" id="id1">
<img alt="../_images/shadow_gens_local_files.png" src="../_images/shadow_gens_local_files.png" />
<figcaption>
<p><span class="caption-text">How to open the directory where SXSG is installed</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Shadow Generations stores all stage specific files under <code class="docutils literal notranslate"><span class="pre">/image/x64/raw/stage</span></code>, so navigate
there. Inside that directory, you are met with many more directories and <code class="docutils literal notranslate"><span class="pre">.pac</span></code> files, but none
of them are named after the actual stage names! what now?</p>
<p>Sonic Team organizes the stage by the zone and act (or challenge) numbers, which are documented
<a class="reference external" href="https://hedgedocs.com/docs/hedgehog-engine/miller/levels/ids/">here</a>. Going by that list,
Kingdom Valley Act 1 should be stored under <code class="docutils literal notranslate"><span class="pre">w03a10</span></code>.</p>
<p>Inside that directory you will find more <code class="docutils literal notranslate"><span class="pre">.pac</span></code> files, which is exactly what we are looking for!
These are like <code class="docutils literal notranslate"><span class="pre">.zip</span></code> files invented by Sonic team, and they are optimized for faster reading
to reduce loading times ingame.</p>
<p>For now, let’s focus on the visual terrain of the stage. Sonic Team stores that in <code class="docutils literal notranslate"><span class="pre">_trr_s##</span></code>
files, of which we have one here: <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00.pac</span></code>!</p>
<p>To open it, we use <strong>HedgeArcPack</strong>. Simply drag and drop the <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00.pac</span></code> onto
<code class="docutils literal notranslate"><span class="pre">HedgeArcPack.exe</span></code> and voilá! Now we can access the files inside!</p>
<p>But before we continue, you should copy the unpacked directory to your mod directory- but not just
into the mod directory itself! It should be put inside the same relative directory to the <code class="docutils literal notranslate"><span class="pre">raw</span></code>
directory! Create the directories necessary in your mods <code class="docutils literal notranslate"><span class="pre">raw</span></code> directory, and then copy the unpacked
<code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> directory into it:</p>
<figure class="align-default" id="id2">
<img alt="../_images/shadow_gens_stage_mod_copy_unpacked.png" src="../_images/shadow_gens_stage_mod_copy_unpacked.png" />
<figcaption>
<p><span class="caption-text">Where to copy the unpacked directory</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="part-2-importing-the-files-into-blender">
<h2>Part 2: Importing the files into blender<a class="headerlink" href="#part-2-importing-the-files-into-blender" title="Link to this heading">¶</a></h2>
<p>Next, we should import the terrain files into blender, but which files actually belong to
the terrain? Well:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.terrain-model</span></code>: Stores models exclusively used for terrain geometry</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.model</span></code>: Geometry that, while usually reserved for interactive objects, may also be used for stage terrain.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.material</span></code>: Geometry material information</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.dds</span></code>: Image textures</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code>: “Point clouds” that store which models are placed where in the stage.</p></li>
</ul>
<section id="importing-stage-geometry">
<h3>Importing stage geometry<a class="headerlink" href="#importing-stage-geometry" title="Link to this heading">¶</a></h3>
<p>While each of these can be loaded individually, we are interested in the <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> files. So
let’s try importing one into blender!</p>
<p>First, make sure your blender project scene has the correct target game of <code class="docutils literal notranslate"><span class="pre">Shadow</span> <span class="pre">Generations</span></code>:</p>
<figure class="align-default" id="id3">
<img alt="../_images/project_setup.png" src="../_images/project_setup.png" />
<figcaption>
<p><span class="caption-text">Where to change the target game</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Next make sure you can see the console output! You will find out why later:</p>
<figure class="align-default" id="id4">
<img alt="../_images/shadow_gens_stage_mod_toggle_console.png" src="../_images/shadow_gens_stage_mod_toggle_console.png" />
<figcaption>
<p><span class="caption-text">How to toggle the console</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now open the <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> importer:</p>
<figure class="align-default" id="id5">
<img alt="../_images/asset_importing_pointcloud.png" src="../_images/asset_importing_pointcloud.png" />
<figcaption>
<p><span class="caption-text">Where to find the point cloud importer</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>There, navigate to the originally unpacked <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> directory, <strong>NOT THE COPY IN YOUR
MOD</strong>; You should find multiple <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> files, and while HEIO <em>can</em> import multiple at once,
we should import just two for now.</p>
<p>Choose the files <code class="docutils literal notranslate"><span class="pre">w03a10_s15_place_near.pcmodel</span></code> and <code class="docutils literal notranslate"><span class="pre">w03a10_s15_course.pcmodel</span></code> and confirm.</p>
<p>The import process may take a while, which is what we opened the console for: HEIO prints a status
bar to the console to make waiting a bit more bearable:</p>
<figure class="align-default" id="id6">
<img alt="../_images/shadow_gens_stage_mod_console_output.png" src="../_images/shadow_gens_stage_mod_console_output.png" />
<figcaption>
<p><span class="caption-text">The importer status in the console</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Once the importer is finished you are met with- Wait, what is that? 10 Files could not be found?
Oh no! What now??</p>
</section>
<section id="working-with-dependencies">
<h3>Working with dependencies<a class="headerlink" href="#working-with-dependencies" title="Link to this heading">¶</a></h3>
<p>After importing, you will (probably) be met with a text popup that says the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="hll">10 files could not be found.
</span>(You can attempt to reimport images using the &quot;Reimport missing images&quot; operator found in the viewport tools)

Some files may be located in the following archives and need to be unpacked:
        C:\Program Files (x86)\Steam\steamapps\common\SONIC_X_SHADOW_GENERATIONS\image\x64\raw\stage\w03a10\w03a10_trr_cmn.pac

List of unresolved files:
        m03_kdv_relief05_dfsp_n_ih1.material
        m03_kdv_brick15_dfsp_y_ih1.material
        m03_kdv_bridge04_dfsp_r_ih1.material
        m03_kdv_pillar01_dfsp_z_ih1.material
        m03_kdv_bridge10_dfsp_z_ih1.material
        m03_kdv_bridge11_dfsp_z_ih1.material
        m03_obj_door03_sphere_nk1.material
        w03_kdv_bridge11_dfsp_z_ih1_abd.dds
        w03_kdv_bridge11_dfsp_z_ih1_prm.dds
        w03_kdv_bridge11_dfsp_z_ih1_nrm.dds


2 images are streamed and could not be loaded, either because the streaming package (.ntsp file) was not found, or because the streaming package does not contain the texture that is being looked for.
Please make sure that the NTSP filepath in the addon configuration is correctly set.
You can attempt to reimport images using the &quot;Reimport missing images&quot; operator found in the viewport tools.

Following streaming packages were not found altogether:
        w01_stage.ntsp
        w03_stage.ntsp

List of missing streamed images:
        w01_dummytex_white_abd
        w03_kdv_wall05_dfsp_z_ih1_abd
</pre></div>
</div>
<p>Unfortunately, importing the stage won’t be that simple. Not all files for the stage are in a single
<code class="docutils literal notranslate"><span class="pre">.pac</span></code> archive, and some images are streamed.</p>
<p>Fortunately, HEIO tells us exactly what we need to do: <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00.pac</span></code> contains a
dependency to <code class="docutils literal notranslate"><span class="pre">w03a10_trr_cmn.pac</span></code>, the solution? Unpack it too!</p>
<p>Go back to the directory where you unpacked <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00.pac</span></code> and unpack
<code class="docutils literal notranslate"><span class="pre">w03a10_trr_cmn.pac</span></code> too.</p>
<p>This will now find all missing files for <code class="docutils literal notranslate"><span class="pre">w03a10_s15_place_near.pcmodel</span></code>, but some terrain models
use materials even higher up in the dependency tree. To avoid constantly reimporting, open the
<code class="docutils literal notranslate"><span class="pre">!DEPENDENCIES.txt</span></code> file inside <code class="docutils literal notranslate"><span class="pre">w03a10_trr_cmn</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stage\w03_common
</pre></div>
</div>
<p>As you can see, it references <code class="docutils literal notranslate"><span class="pre">w03_common.pac</span></code> that is found a directory further up. Let’s
unpack that too! And inside there, you will see it depends on <code class="docutils literal notranslate"><span class="pre">EffectCommon</span></code>, but we can ignore
that, as it is for effect textures, which the stage geometry does not use.</p>
<p>Lets revert our previous import with <code class="docutils literal notranslate"><span class="pre">CTRL</span> <span class="pre">+</span> <span class="pre">Z</span></code> and import the two <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> files again!
Aaaaaand… Oh no! we still could not load some images! Is the addon broken??</p>
</section>
<section id="loading-streamed-textures">
<h3>Loading streamed textures<a class="headerlink" href="#loading-streamed-textures" title="Link to this heading">¶</a></h3>
<p>No, the addon is working just as it should, we just forgot to set up texture streaming.</p>
<p>To reduce time spent reading many medium sized files, Shadow Generations stores many textures
inside texture streaming packages. You can find them in the <code class="docutils literal notranslate"><span class="pre">image/x64/raw/texture_streaming</span></code>
directory:</p>
<figure class="align-default" id="id7">
<img alt="../_images/shadow_gens_stage_mod_texture_streaming.png" src="../_images/shadow_gens_stage_mod_texture_streaming.png" />
<figcaption>
<p><span class="caption-text">The texture streaming directory</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>In order for HEIO to load them, all we need to do is open the addon preferences and fill the path
to the <code class="docutils literal notranslate"><span class="pre">texture_streaming</span></code> directory into the <code class="docutils literal notranslate"><span class="pre">NTSP</span> <span class="pre">Directory</span></code> property for Shadow Generations:</p>
<figure class="align-default" id="id8">
<img alt="../_images/addon_config.png" src="../_images/addon_config.png" />
<figcaption>
<p><span class="caption-text">Where to find the addon preferences</span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now, all we need to do is run the <a class="reference internal" href="../user_interface/tools/viewport_toolbar/general.html#bpy-ops-heio-reimport-images"><span class="std std-ref">Reimport missing images</span></a> operator inside the
<code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> directory:</p>
<figure class="align-default" id="id9">
<img alt="../_images/shadow_gens_stage_mod_reimport_images.png" src="../_images/shadow_gens_stage_mod_reimport_images.png" />
<figcaption>
<p><span class="caption-text">Where to find the reimport missing images operator</span><a class="headerlink" href="#id9" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>After it has finished running, there should be no popup, which means all relevant files were
imported now! Hooray!</p>
</section>
</section>
<section id="part-3-editing-the-stage-terrain">
<h2>Part 3: Editing the stage terrain<a class="headerlink" href="#part-3-editing-the-stage-terrain" title="Link to this heading">¶</a></h2>
<p>Now that we have everything we need, lets do some editing!</p>
<section id="blender-preview">
<h3>Blender preview<a class="headerlink" href="#blender-preview" title="Link to this heading">¶</a></h3>
<p>But first, let’s look at the imported stage in all it’s glory by enabling viewport shading. Doing
so will reveal some weird, textureless geometry that is not seen ingame:</p>
<figure class="align-default" id="id10">
<img alt="../_images/shadow_gens_stage_mod_shadow_casters.png" src="../_images/shadow_gens_stage_mod_shadow_casters.png" />
<figcaption>
<p><span class="caption-text">Texturesless geometry that is not visible ingame</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>As you can see, they match the rough shape of the rock cliffs, which has a good reason: The actual
cliffs are configured to not cast shadows, which is instead done using this “shadow caster”
geometry!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to hide them, or put them in a sub-collection (which HEIO allows) then you can do
so easily; All of these (should) have the same material, which means you can select
one of them and then automatically select the rest by using
<span class="menuselection">Select ‣ Select Linked ‣ Material</span>:</p>
<figure class="align-default" id="id11" style="width: 70%">
<img alt="../_images/shadow_gens_stage_mod_hide_shadow_casters.png" src="../_images/shadow_gens_stage_mod_hide_shadow_casters.png" />
<figcaption>
<p><span class="caption-text">Where to find the select linked operator</span><a class="headerlink" href="#id11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
</section>
<section id="placing-terrain">
<h3>Placing terrain<a class="headerlink" href="#placing-terrain" title="Link to this heading">¶</a></h3>
<p>Let’s try placing terrain now! How about we copy and paste one of the tours at the beginning?</p>
<p>Select these 4 objects (there is a shadowcaster object hidden inside the top object):</p>
<figure class="align-default" id="id12">
<img alt="../_images/shadow_gens_stage_mod_tower_objects.png" src="../_images/shadow_gens_stage_mod_tower_objects.png" />
<figcaption>
<p><span class="caption-text">The objects to select</span><a class="headerlink" href="#id12" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now duplicate them using the
<a class="reference external" href="https://docs.blender.org/manual/en/latest/scene_layout/object/editing/duplicate_linked.html">Duplicate Linked</a>
operator (<code class="docutils literal notranslate"><span class="pre">ALT</span> <span class="pre">+</span> <span class="pre">D</span></code>) so that we reuse the same terrain models and place them right after the
previous tower in the stage:</p>
<figure class="align-default" id="id13">
<img alt="../_images/shadow_gens_stage_mod_tower_objects_duplicated.png" src="../_images/shadow_gens_stage_mod_tower_objects_duplicated.png" />
<figcaption>
<p><span class="caption-text">The duplicated geometry moved to a new position</span><a class="headerlink" href="#id13" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="bringing-the-changes-to-the-game">
<h3>Bringing the changes to the game<a class="headerlink" href="#bringing-the-changes-to-the-game" title="Link to this heading">¶</a></h3>
<p>Next, let’s bring this new tower to the game, shall we?</p>
<p>First, you must create a new collection with the name <code class="docutils literal notranslate"><span class="pre">PCMODEL</span> <span class="pre">Collections</span></code> and move the two
imported collections into it:</p>
<figure class="align-default" id="id14">
<img alt="../_images/shadow_gens_stage_mod_tower_pcmodel_collection.png" src="../_images/shadow_gens_stage_mod_tower_pcmodel_collection.png" />
<figcaption>
<p><span class="caption-text">How to organize the collections</span><a class="headerlink" href="#id14" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Next, set up a collection exporter on the <code class="docutils literal notranslate"><span class="pre">PCMODEL</span> <span class="pre">Collections</span></code> collection that uses the
<code class="docutils literal notranslate"><span class="pre">Collections</span> <span class="pre">as</span> <span class="pre">HE</span> <span class="pre">Point</span> <span class="pre">clouds</span></code> exporter:</p>
<figure class="align-default" id="id15">
<img alt="../_images/shadow_gens_stage_mod_tower_collection_exporter.png" src="../_images/shadow_gens_stage_mod_tower_collection_exporter.png" />
<figcaption>
<p><span class="caption-text">How to create the collection exporter</span><a class="headerlink" href="#id15" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>You will want to configure two things in the exporter:</p>
<ol class="arabic simple">
<li><p>The filepath should point to a <code class="docutils literal notranslate"><span class="pre">dummy.pcmodel</span></code> files <strong>in your mods w03a10_trr_s00 directory</strong>. This file won’t actually be exported, but blender demands you input the path to a file for the exporter to work, so we abide by that demand.</p></li>
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">Write</span> <span class="pre">Resources</span></code> in the <code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Cloud</span></code> panel. This prevents any <code class="docutils literal notranslate"><span class="pre">.terrain-model</span></code> files and similar from being written, and only actually writes the <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> files. We do this because we did not actually modify or add any new terrain models, and so we can save ourselves the time of exporting those again and just use the ones already in the directory.</p></li>
</ol>
<figure class="align-default" id="id16">
<img alt="../_images/shadow_gens_stage_mod_tower_collection_exporter_setup.png" src="../_images/shadow_gens_stage_mod_tower_collection_exporter_setup.png" />
<figcaption>
<p><span class="caption-text">How the exporter should roughly look</span><a class="headerlink" href="#id16" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Once it’s set up, hit <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">All</span></code>! This should take less than a second.</p>
<p>You can verify whether the <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> files have been written by going to the export directory and
sorting by the last-changed-date:</p>
<figure class="align-default" id="id17">
<img alt="../_images/shadow_gens_stage_mod_tower_collection_exporter_result.png" src="../_images/shadow_gens_stage_mod_tower_collection_exporter_result.png" />
<figcaption>
<p><span class="caption-text">The exported files</span><a class="headerlink" href="#id17" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="preparing-the-files-for-the-mod">
<h3>Preparing the files for the mod<a class="headerlink" href="#preparing-the-files-for-the-mod" title="Link to this heading">¶</a></h3>
<p>One more step that we need to do to get the changes working ingame: We have to convert the directory
back into a <code class="docutils literal notranslate"><span class="pre">.pac</span></code> file. Nothing easier than that! Simply drag &amp; drop the <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> in
your mod directory onto <code class="docutils literal notranslate"><span class="pre">HedgeArcPack.exe</span></code>!</p>
<p>A console window will open and ask you which archive type to use, for which we use <code class="docutils literal notranslate"><span class="pre">sxsg</span></code>. Once
entered, press enter, and the program will do its thing. After a second, you should have a fresh
<code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00.pac</span></code> file.</p>
</section>
<section id="testing-the-mod">
<h3>Testing the mod<a class="headerlink" href="#testing-the-mod" title="Link to this heading">¶</a></h3>
<p>That’s it now! Start the HedgeModManager, enable the mod, and make your way into Kingdom Valley
Act 1, where you should see this:</p>
<figure class="align-default" id="id18">
<img alt="../_images/shadow_gens_stage_mod_tower_ingame.png" src="../_images/shadow_gens_stage_mod_tower_ingame.png" />
<figcaption>
<p><span class="caption-text">The duplicated tower object ingame</span><a class="headerlink" href="#id18" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>However, once you try to land on it, you promptly fall through… what went wrong? Where is the
collision?</p>
</section>
</section>
<section id="part-4-editing-the-stage-collision">
<h2>Part 4: Editing the stage collision<a class="headerlink" href="#part-4-editing-the-stage-collision" title="Link to this heading">¶</a></h2>
<p>Stage collision is stored in different files from stage terrain, using <code class="docutils literal notranslate"><span class="pre">.btmesh</span></code> and <code class="docutils literal notranslate"><span class="pre">.pccol</span></code>
files instead.</p>
<section id="importing-the-collision-files">
<h3>Importing the collision files<a class="headerlink" href="#importing-the-collision-files" title="Link to this heading">¶</a></h3>
<p>The steps here are very similar to those before:</p>
<ol class="arabic simple">
<li><p>Go to the original <code class="docutils literal notranslate"><span class="pre">w03a10</span></code> directory</p></li>
<li><p>Stage collision is stored in <code class="docutils literal notranslate"><span class="pre">_misc</span></code> archives, so unpack <code class="docutils literal notranslate"><span class="pre">w03a10_misc.pac</span></code></p></li>
<li><p>Copy the unpacked directory to your mods <code class="docutils literal notranslate"><span class="pre">w03a10</span></code> directory for later.</p></li>
<li><p>In your blender project, create a new <code class="docutils literal notranslate"><span class="pre">PCCOL</span> <span class="pre">Collections</span></code> collection and select it</p></li>
<li><p>Open the point cloud importer again</p></li>
<li><p>Import the <code class="docutils literal notranslate"><span class="pre">w03a10_s15_place_near.pccol</span></code> and <code class="docutils literal notranslate"><span class="pre">w03a10_s15_course.pccol</span></code> files from the unpacked <code class="docutils literal notranslate"><span class="pre">w03a10_misc</span></code> directory</p></li>
</ol>
<p>After importing, we have a small problem: These collections have the same name as the <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code>
collections! What now?</p>
<p>The answer is simple: add a <code class="docutils literal notranslate"><span class="pre">.pcmodel</span></code> to the name of the terrain collections, and replace the
<code class="docutils literal notranslate"><span class="pre">.001</span></code> of the collision collections with a <code class="docutils literal notranslate"><span class="pre">.pccol</span></code>. HEIO will not include those extensions
when exporting later:</p>
<figure class="align-default" id="id19">
<img alt="../_images/shadow_gens_stage_mod_tower_pc_collections.png" src="../_images/shadow_gens_stage_mod_tower_pc_collections.png" />
<figcaption>
<p><span class="caption-text">How the collections should now be set up</span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="editing-the-collision">
<h3>Editing the collision<a class="headerlink" href="#editing-the-collision" title="Link to this heading">¶</a></h3>
<p>First, you should hide the PCMODEL collection, so that we can look at the collision unobstructed.
Doing so, we noticed an issue… Almost all of the collision geometry is one big mesh!</p>
<p>While you can edit the mesh as is, there is an easier way: We can split the mesh up by its “shapes”
using the <a class="reference internal" href="../user_interface/tools/viewport_toolbar/general.html#bpy-ops-heio-split-meshgroups"><span class="std std-ref">“Split mesh by groups”</span></a> operator:</p>
<figure class="align-default" id="id20">
<img alt="../_images/shadow_gens_stage_mod_collision_split.png" src="../_images/shadow_gens_stage_mod_collision_split.png" />
<figcaption>
<p><span class="caption-text">Where to find the “Split mesh by groups” operator</span><a class="headerlink" href="#id20" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>To use it, simply select the big collision object with the name <code class="docutils literal notranslate"><span class="pre">w03a10_s15_col</span></code>, then click the
split operator and confirm the popup.</p>
<p>To make distinguishing between the different shapes easier you can change the viewport color mode
to <code class="docutils literal notranslate"><span class="pre">Random</span></code>, which will give every object a different color:</p>
<figure class="align-default" id="id21">
<img alt="../_images/shadow_gens_stage_mod_viewport_random_colors.png" src="../_images/shadow_gens_stage_mod_viewport_random_colors.png" />
<figcaption>
<p><span class="caption-text">The random color mode in action</span><a class="headerlink" href="#id21" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now we can simply duplicate the collision responsible for the tower and move it over to where our
duplicated terrain tower is!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to have the collision properly aligned with the terrain:</p>
<ol class="arabic simple">
<li><p>delete the old duplicated tower</p></li>
<li><p>select both the collision and terrain objects for the tower</p></li>
<li><p>link-duplicate them at the same time</p></li>
<li><p>move them over again</p></li>
</ol>
</div>
<p>Et voilá, now the tower collision should stand!</p>
<figure class="align-default" id="id22">
<img alt="../_images/shadow_gens_stage_mod_tower_collision_duplicated.png" src="../_images/shadow_gens_stage_mod_tower_collision_duplicated.png" />
<figcaption>
<p><span class="caption-text">The duplicated tower collision</span><a class="headerlink" href="#id22" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You won’t have to merge the collision back together, it works as is! (In fact, merging it back
together would make things a bit too complicated for this tutorial).</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If you are interested in learning more about how collision models work  and why you can split them,
then you can read the <a class="reference internal" href="../guides/collision_mesh_editing.html"><span class="doc">HEIO Collision mesh editing guide</span></a>.</p>
</div>
</section>
<section id="setting-up-the-exporter">
<h3>Setting up the exporter<a class="headerlink" href="#setting-up-the-exporter" title="Link to this heading">¶</a></h3>
<p>Now, just like for the terrain, set up a collection exporter for the PCCOL parent collection.</p>
<p>Make sure that the filepath points to <code class="docutils literal notranslate"><span class="pre">dummy.pccol</span></code> in your mods <code class="docutils literal notranslate"><span class="pre">w03a10_misc</span></code> directory and to
set the <code class="docutils literal notranslate"><span class="pre">Collection</span> <span class="pre">Type</span></code> tp <code class="docutils literal notranslate"><span class="pre">Collision</span></code>.</p>
<p>This time however, we want to leave <code class="docutils literal notranslate"><span class="pre">Write</span> <span class="pre">Resources</span></code> enabled, as we modified a mesh itself and
not the pcmodel file! Fortunately, exporting collision meshes does not occupy much time, which is
why we can do that without worry:</p>
<figure class="align-default" id="id23">
<img alt="../_images/shadow_gens_stage_mod_tower_collection_exporter_setup_col.png" src="../_images/shadow_gens_stage_mod_tower_collection_exporter_setup_col.png" />
<figcaption>
<p><span class="caption-text">How the exporter should roughly look</span><a class="headerlink" href="#id23" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now press <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">All</span></code>. Now several files in your output directory should have been exporter:</p>
<figure class="align-default" id="id24">
<img alt="../_images/shadow_gens_stage_mod_collision_export_result.png" src="../_images/shadow_gens_stage_mod_collision_export_result.png" />
<figcaption>
<p><span class="caption-text">The exported files</span><a class="headerlink" href="#id24" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can trigger all collection exporters at once using the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">All</span> <span class="pre">Collections</span></code> operator
in the <code class="docutils literal notranslate"><span class="pre">File</span></code> menu, right below the <code class="docutils literal notranslate"><span class="pre">Export</span></code> submenu.</p>
</div>
</section>
<section id="testing-the-mod-again">
<h3>Testing the mod again<a class="headerlink" href="#testing-the-mod-again" title="Link to this heading">¶</a></h3>
<p>Once again, time to test the mod! Convert the <code class="docutils literal notranslate"><span class="pre">w03a10_misc</span></code> directory to a <code class="docutils literal notranslate"><span class="pre">.pac</span></code> (and the
<code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> directory too, if you changed where the tower terrain was placed), start the
game and boot into the stage.</p>
<p>This time, upon jumping on the tower, you should not fall through:</p>
<figure class="align-default" id="id25">
<img alt="../_images/shadow_gens_stage_mod_tower_ingame_collision.png" src="../_images/shadow_gens_stage_mod_tower_ingame_collision.png" />
<figcaption>
<p><span class="caption-text">Standing on the duplicated tower object ingame</span><a class="headerlink" href="#id25" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="part-5-adding-custom-terrain-and-collision">
<h2>Part 5: Adding custom terrain and collision<a class="headerlink" href="#part-5-adding-custom-terrain-and-collision" title="Link to this heading">¶</a></h2>
<p>Time to get really spicy by adding our own terrain and collision models!</p>
<section id="the-terrain-model">
<h3>The terrain model<a class="headerlink" href="#the-terrain-model" title="Link to this heading">¶</a></h3>
<p>Let’s start with the terrain by adding our beloved Suzanne: Place the cursor on the duplicated
tower and add a new monkey model. Add a subdivision surface modifier to it to make it nice and
smooth. Make sure that the object is part of your <code class="docutils literal notranslate"><span class="pre">w03a10_s15_place_near.pcmodel</span></code> collection!</p>
<p>Next, we need to configure some SCA parameters so the model casts and receives shadows ingame.
Open the objects mesh properties, in which you open the <code class="docutils literal notranslate"><span class="pre">HEIO</span> <span class="pre">Mesh</span> <span class="pre">Properties</span></code> panel, in which
you open the <code class="docutils literal notranslate"><span class="pre">SCA</span> <span class="pre">Parameters</span></code> subpanel.</p>
<p>This subpanel has a list and 5 buttons to the right. Press the button at the very bottom and
select the <code class="docutils literal notranslate"><span class="pre">ShadowCa</span></code> preset and confirm. The new SCA parameter should appear in the list with
a checkbox; Toggle the checkbox on. This enables Shadow casting for the object.</p>
<p>Do the same for the <code class="docutils literal notranslate"><span class="pre">ShadowRe</span></code> preset, which enabled Shadow receiving.</p>
<figure class="align-default" id="id26">
<img alt="../_images/shadow_gens_stage_mod_suzanne_sca_parameters.png" src="../_images/shadow_gens_stage_mod_suzanne_sca_parameters.png" />
<figcaption>
<p><span class="caption-text">How the SCA parameters should look after setting them up.</span><a class="headerlink" href="#id26" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="the-terrain-material">
<h3>The terrain material<a class="headerlink" href="#the-terrain-material" title="Link to this heading">¶</a></h3>
<p>Next, add a material to Suzanne and name it <code class="docutils literal notranslate"><span class="pre">Suzanne</span></code>. In this new material, open the
<code class="docutils literal notranslate"><span class="pre">HEIO</span> <span class="pre">Material</span> <span class="pre">Properties</span></code> panel and disable the <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Shader</span></code> property. This will
exchange the shader text field with a dropdown. In that dropdown select <code class="docutils literal notranslate"><span class="pre">Common_d</span></code>, which
is a very simple PBR shader. Once switched press the <code class="docutils literal notranslate"><span class="pre">Setup/Update</span> <span class="pre">Nodes</span></code> button to enable
material previewing in blender.</p>
<p>Right now the material appears completely black - this happens because we don’t have a texture.
Create a new texture in the <code class="docutils literal notranslate"><span class="pre">Texture</span> <span class="pre">Paint</span></code> workspace, name it <code class="docutils literal notranslate"><span class="pre">Suzanne_abd</span></code>, make it 16x16,
uncheck <code class="docutils literal notranslate"><span class="pre">Alpha</span></code> and give it a color of your choice - i will use red:</p>
<figure class="align-default" id="id27">
<img alt="../_images/shadow_gens_stage_mod_suzanne_texture.png" src="../_images/shadow_gens_stage_mod_suzanne_texture.png" />
<figcaption>
<p><span class="caption-text">How to create the texture</span><a class="headerlink" href="#id27" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you name your image after the object like <code class="docutils literal notranslate"><span class="pre">Suzanne</span></code> it will be used as the lightmap!</p>
<p>This also happens when you name it after the object + <code class="docutils literal notranslate"><span class="pre">_ao</span></code>, like <code class="docutils literal notranslate"><span class="pre">Suzanne_ao</span></code>, in which
case the image gets used for the ambient occlusion lightmap!</p>
</div>
<p>Now open the DDS settings (provided by the DDS addon; hopefully you installed it in part 0!) and
change the DXGI format to <code class="docutils literal notranslate"><span class="pre">BC1_UNORM</span></code>:</p>
<figure class="align-default" id="id28">
<img alt="../_images/shadow_gens_stage_mod_suzanne_texture_dds.png" src="../_images/shadow_gens_stage_mod_suzanne_texture_dds.png" />
<figcaption>
<p><span class="caption-text">Where to find the DDS settings</span><a class="headerlink" href="#id28" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>With the texture set up, go back to the <code class="docutils literal notranslate"><span class="pre">HEIO</span> <span class="pre">material</span> <span class="pre">properties</span></code> panel, open the <code class="docutils literal notranslate"><span class="pre">textures</span></code>
subpanel and select the <code class="docutils literal notranslate"><span class="pre">diffuse</span></code> texture. With it selected, click on the <code class="docutils literal notranslate"><span class="pre">Image</span></code> box below
the list and select your freshly created <code class="docutils literal notranslate"><span class="pre">Suzanne</span></code> texture.</p>
<p>Somehow, the model is still black; That is because the model has no vertex colors. Go into the mesh
properties, open the color attributes subpanel and create a new, <strong>white</strong> color attribute. Now the
model should be the color of your texture!</p>
<p>Go back into the <code class="docutils literal notranslate"><span class="pre">HEIO</span> <span class="pre">Material</span> <span class="pre">Properties</span></code> panel, open the <code class="docutils literal notranslate"><span class="pre">General</span></code> subpanel and change the
<code class="docutils literal notranslate"><span class="pre">Render</span> <span class="pre">Layer</span></code> to <code class="docutils literal notranslate"><span class="pre">Opaque</span></code> (using <code class="docutils literal notranslate"><span class="pre">automatic</span></code> would export with <code class="docutils literal notranslate"><span class="pre">Transparent</span></code>, which we
don’t want).</p>
<p>Also make sure to enable backface culling (improves performance).</p>
<p>Next, open the <code class="docutils literal notranslate"><span class="pre">Parameters</span></code> subpanel and select the <code class="docutils literal notranslate"><span class="pre">PBRFactor</span></code> entry at the bottom of the
list. This has 4 values:</p>
<ol class="arabic simple">
<li><p>Specular</p></li>
<li><p>Smoothness</p></li>
<li><p>Metallic</p></li>
<li><p>and an unused one.</p></li>
</ol>
<p>Why don’t we go with a shiny plastic look? Use 0.125 for specular (which is usually considered
standard and physically accurate) and 0.8 for smoothness. Nice, now the model looks (somewhat) like
plastic!</p>
<figure class="align-default" id="id29">
<img alt="../_images/shadow_gens_stage_mod_suzanne_preview.png" src="../_images/shadow_gens_stage_mod_suzanne_preview.png" />
<figcaption>
<p><span class="caption-text">How i made my suzanne look</span><a class="headerlink" href="#id29" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id30">
<img alt="../_images/shadow_gens_stage_mod_suzanne_material.png" src="../_images/shadow_gens_stage_mod_suzanne_material.png" />
<figcaption>
<p><span class="caption-text">My material settings</span><a class="headerlink" href="#id30" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="exporting-the-terrain-model">
<h3>Exporting the terrain-model<a class="headerlink" href="#exporting-the-terrain-model" title="Link to this heading">¶</a></h3>
<p>To avoid spending unnecessary time exporting all models in the stage, lets export this model
on its own (exporting the imported textures would take forever!).</p>
<p>Select the Suzanne object (and only Suzanne!), then open the terrain-model exporter:</p>
<figure class="align-default" id="id31">
<img alt="../_images/asset_exporting_terrain_model.png" src="../_images/asset_exporting_terrain_model.png" />
<figcaption>
<p><span class="caption-text">Where to find the terrain-model exporter</span><a class="headerlink" href="#id31" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>In the exporter properties enable <code class="docutils literal notranslate"><span class="pre">Limit</span> <span class="pre">to</span> <span class="pre">Selected</span> <span class="pre">Objects</span></code>:</p>
<figure class="align-default" id="id32">
<img alt="../_images/shadow_gens_stage_mod_suzanne_export_settings.png" src="../_images/shadow_gens_stage_mod_suzanne_export_settings.png" />
<figcaption>
<p><span class="caption-text">How to change which objects to include in the exporter</span><a class="headerlink" href="#id32" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now navigate to your mods <code class="docutils literal notranslate"><span class="pre">w03a10_trr_s00</span></code> directory and confirm. This should now create</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">Suzanne.terrain-model</span></code> file</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Suzanne.material</span></code> file</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">Suzanne_abd.dds</span></code> file</p></li>
</ul>
<figure class="align-default" id="id33">
<img alt="../_images/shadow_gens_stage_mod_suzanne_export_result.png" src="../_images/shadow_gens_stage_mod_suzanne_export_result.png" />
<figcaption>
<p><span class="caption-text">The exported files</span><a class="headerlink" href="#id33" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Now run the <code class="docutils literal notranslate"><span class="pre">PCMODEL</span> <span class="pre">Collections</span></code> colletion exporter. The terrain part is done!</p>
</section>
<section id="the-collision-mesh">
<h3>The collision mesh<a class="headerlink" href="#the-collision-mesh" title="Link to this heading">¶</a></h3>
<p>Now all that is missing is the collision mesh!</p>
<p>Select your terrain Suzanne and duplicate it (not linked). Move the duplicate over to the
<code class="docutils literal notranslate"><span class="pre">w03a10_s15_place_near.pccol</span></code> collection.</p>
<p>Rename the object to <code class="docutils literal notranslate"><span class="pre">Suzanne_col</span></code>, and rename its mesh data to <code class="docutils literal notranslate"><span class="pre">Suzanne_col</span></code> too:</p>
<figure class="align-default" id="id34">
<img alt="../_images/shadow_gens_stage_mod_suzanne_col_names.png" src="../_images/shadow_gens_stage_mod_suzanne_col_names.png" />
<figcaption>
<p><span class="caption-text">The suzanne collision model setup</span><a class="headerlink" href="#id34" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Next remove the subdivision surface modifier, as well as the material.</p>
<p>What we need to do now determines how Shadow interacts with the collision: In the mesh properties
open the <code class="docutils literal notranslate"><span class="pre">HEIO</span> <span class="pre">Mesh</span> <span class="pre">properties</span></code> panel again, and in there open the <code class="docutils literal notranslate"><span class="pre">Groups</span></code> subpanel.</p>
<p>Press the <code class="docutils literal notranslate"><span class="pre">Initialize</span> <span class="pre">mesh</span> <span class="pre">info</span></code> button and change the Collision layer of the freshly created
group to <code class="docutils literal notranslate"><span class="pre">Solid</span></code> to make it a solid collision mesh:</p>
<figure class="align-default" id="id35">
<img alt="../_images/shadow_gens_stage_mod_suzanne_col_group.png" src="../_images/shadow_gens_stage_mod_suzanne_col_group.png" />
<figcaption>
<p><span class="caption-text">The group with its collision layer</span><a class="headerlink" href="#id35" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Next open the <code class="docutils literal notranslate"><span class="pre">Collision</span> <span class="pre">Types</span></code> subpanel and initialize the mesh info here too. Clck on the list
entry and select <code class="docutils literal notranslate"><span class="pre">Earth</span></code> - this determines the footstep sounds and particles when interacting
with the collision. There Unfortunately is no “plastic” type, which is why we settle for earth.</p>
<p>That’s it! Now run the PCCOL Exporter!</p>
</section>
<section id="the-final-test-ingame">
<h3>The final test ingame<a class="headerlink" href="#the-final-test-ingame" title="Link to this heading">¶</a></h3>
<p>As per usual, pack both directories in your mod again and boot up the stage ingame. Suzanne should
be right there, and we can interact with her too:</p>
<figure class="align-default" id="id36">
<img alt="../_images/shadow_gens_stage_mod_suzanne_ingame.png" src="../_images/shadow_gens_stage_mod_suzanne_ingame.png" />
<figcaption>
<p><span class="caption-text">Suzanne ingame</span><a class="headerlink" href="#id36" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="part-6-you-re-done-now-what">
<h2>Part 6: You’re done! Now what?<a class="headerlink" href="#part-6-you-re-done-now-what" title="Link to this heading">¶</a></h2>
<p><strong>Congratulations!</strong> You have learned the basics of Shadow Generations stage modding! Most of this
translates to Sonic Frontiers stage modding too!</p>
<p>If you want to learn more about how HEIO works, check out the <a class="reference internal" href="../guides/index.html"><span class="doc">Guides</span></a> section!</p>
<p>With that said, i hope you found this tutorial helpful! If you still have questions you can join
the <a class="reference external" href="https://dc.railgun.works/hems">Hedgehog Engine Modding Discord Server</a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../game_documentation/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Game documentation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Tutorials</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2025-01-26</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
<div class="footer-contribute">
  <ul>
    <li>
	  <a href="https://github.com/hedge-dev/HedgehogEngineBlenderIO/tree/dev/manual/source/tutorials/shadow_gens_stage_mod.rst?plain=1"> View Source</a>
    </li>
    <li>
      <a href="https://github.com/hedge-dev/HedgehogEngineBlenderIO/issues/new?template=.gitea/issue_template/bug.yaml&field:body=%2A%2APage+Information%2A%2A%0D%0AFile%3A+%60manual%2Ftutorials/shadow_gens_stage_mod.rst%60%0D%0APermanent+Link%5D%28https%3A%2F%2Fdocs.blender.org%2Fmanual%2Ftutorials/shadow_gens_stage_mod.html%29%0D%0A%0D%0A%2A%2AShort+description+of+error%2A%2A%0D%0A%5BPlease+fill+out+a+short+description+of+the+error+here%5D%0D%0A"> Report issue on this page</a>
    </li>
  </ul>
</div>
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tutorial 1: Shadow Generations stage mod</a><ul>
<li><a class="reference internal" href="#part-0-the-tools">Part 0: The tools</a></li>
<li><a class="reference internal" href="#part-1-preparing-the-files">Part 1: Preparing the files</a><ul>
<li><a class="reference internal" href="#creating-the-mod">Creating the mod</a></li>
<li><a class="reference internal" href="#which-files">Which files?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#part-2-importing-the-files-into-blender">Part 2: Importing the files into blender</a><ul>
<li><a class="reference internal" href="#importing-stage-geometry">Importing stage geometry</a></li>
<li><a class="reference internal" href="#working-with-dependencies">Working with dependencies</a></li>
<li><a class="reference internal" href="#loading-streamed-textures">Loading streamed textures</a></li>
</ul>
</li>
<li><a class="reference internal" href="#part-3-editing-the-stage-terrain">Part 3: Editing the stage terrain</a><ul>
<li><a class="reference internal" href="#blender-preview">Blender preview</a></li>
<li><a class="reference internal" href="#placing-terrain">Placing terrain</a></li>
<li><a class="reference internal" href="#bringing-the-changes-to-the-game">Bringing the changes to the game</a></li>
<li><a class="reference internal" href="#preparing-the-files-for-the-mod">Preparing the files for the mod</a></li>
<li><a class="reference internal" href="#testing-the-mod">Testing the mod</a></li>
</ul>
</li>
<li><a class="reference internal" href="#part-4-editing-the-stage-collision">Part 4: Editing the stage collision</a><ul>
<li><a class="reference internal" href="#importing-the-collision-files">Importing the collision files</a></li>
<li><a class="reference internal" href="#editing-the-collision">Editing the collision</a></li>
<li><a class="reference internal" href="#setting-up-the-exporter">Setting up the exporter</a></li>
<li><a class="reference internal" href="#testing-the-mod-again">Testing the mod again</a></li>
</ul>
</li>
<li><a class="reference internal" href="#part-5-adding-custom-terrain-and-collision">Part 5: Adding custom terrain and collision</a><ul>
<li><a class="reference internal" href="#the-terrain-model">The terrain model</a></li>
<li><a class="reference internal" href="#the-terrain-material">The terrain material</a></li>
<li><a class="reference internal" href="#exporting-the-terrain-model">Exporting the terrain-model</a></li>
<li><a class="reference internal" href="#the-collision-mesh">The collision mesh</a></li>
<li><a class="reference internal" href="#the-final-test-ingame">The final test ingame</a></li>
</ul>
</li>
<li><a class="reference internal" href="#part-6-you-re-done-now-what">Part 6: You’re done! Now what?</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=982cab65"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>